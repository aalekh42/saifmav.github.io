(this["webpackJsonptable-list"]=this["webpackJsonptable-list"]||[]).push([[0],{70:function(e,t,n){},71:function(e,t,n){},88:function(e,t,n){},89:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n(24),i=n.n(c),s=(n(70),n(71),n(14)),r=n(31),o=n.n(r),l=n(39),j=n(43),u=n(111),d=n(114),b=n(118),h=n(117),p=n(113),m=n(115),x=n(116),f=n(90),O=n(45),g=(n(78),n(55));n.n(g).a.config();O.a.initializeApp({apiKey:"AIzaSyDCo2DQaN2bnttlAmBJsx_YyRz1OMAf-rE",authDomain:"table-list-235f4.firebaseapp.com",projectId:"table-list-235f4",storageBucket:"table-list-235f4.appspot.com",messagingSenderId:"939374397941",appId:"1:939374397941:web:e16798a0b8280c6d8478bc",measurementId:"6FL6ECTF5L"}),O.a.analytics();var v=O.a,y=n(56),N=n.n(y),w=n(4),C=v.firestore(),A=Object(u.a)({table:{minWidth:650},images:{height:"100px",width:"100px"}});function F(){var e=A(),t=Object(a.useState)([]),n=Object(j.a)(t,2),c=n[0],i=n[1];return Object(a.useEffect)((function(){(function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],n=C.collection("data"),e.prev=2,e.next=5,n.get();case 5:e.sent.docs.forEach((function(e){var n=e.data();t.push(n),t.sort((function(e,t){return t.createdAt-e.createdAt}))})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:i(t);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(w.jsx)(p.a,{component:f.a,children:Object(w.jsxs)(d.a,{className:e.table,"aria-label":"simple table",children:[Object(w.jsx)(m.a,{children:Object(w.jsxs)(x.a,{children:[Object(w.jsx)(h.a,{children:"Image"}),Object(w.jsx)(h.a,{align:"right",children:"Old FileName"}),Object(w.jsx)(h.a,{align:"right",children:"Uploaded By"})]})}),Object(w.jsx)(b.a,{children:c.map((function(t,n){return Object(w.jsxs)(x.a,{children:[Object(w.jsx)(h.a,{component:"th",scope:"row",children:Object(w.jsx)("img",{className:e.images,src:t.profile_picture,alt:t.username})}),Object(w.jsx)(h.a,{align:"right",children:t.filename}),Object(w.jsxs)(h.a,{align:"right",children:[t.username,"-",N()(t.createdAt).format("MMMM Do YYYY")]})]},n)}))})]})})}var I=n(124),k=v.auth(),E=new v.auth.GoogleAuthProvider,D=function(){k.signInWithPopup(E).then((function(e){console.log(e.user)})).catch((function(e){console.log(e.message)}))},T=function(){k.signOut().then((function(){console.log("logged out")})).catch((function(e){console.log(e.message)}))},S=Object(a.createContext)({user:null}),B=function(e){var t=Object(a.useState)(null),n=Object(j.a)(t,2),c=n[0],i=n[1];return Object(a.useEffect)((function(){k.onAuthStateChanged(function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t&&(n=t.displayName,a=t.email,i({displayName:n,email:a}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(w.jsx)(S.Provider,{value:c,children:e.children})},P=n(125);function U(){var e=Object(a.useContext)(S);return Object(w.jsxs)("label",{htmlFor:"upload-photo",children:[Object(w.jsx)("input",{style:{display:"none"},onChange:function(t){return function(e,t){var n=e.target.files[0],a=v.storage().ref().child(Object(P.a)(n.name)).put(n);a.on(v.storage.TaskEvent.STATE_CHANGED,(function(e){var t=e.bytesTransferred/e.totalBytes*100;switch(console.log("Upload is "+t+"% done"),e.state){case v.storage.TaskState.PAUSED:console.log("Upload is paused");break;case v.storage.TaskState.RUNNING:console.log("Upload is running")}}),(function(e){e.code}),(function(){a.snapshot.ref.getDownloadURL().then((function(e){v.firestore().collection("data").add({username:t.displayName,email:t.email,profile_picture:e,filename:n.name,createdAt:(new Date).getTime()}),console.log("File available at",e)}))}))}(t,e)},id:"upload-photo",name:"upload-photo",type:"file"}),Object(w.jsx)(I.a,{color:"primary",variant:"contained",component:"span",children:"Upload File"})]})}var L=n(119),M=n(120),W=n(121),Y=n(122),G=n(126),R=n(123),_=Object(u.a)((function(){return{appBar:{borderRadius:15,margin:"30px 0",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}}})),z=function(){var e=_(),t=Object(a.useContext)(S);return Object(a.useEffect)((function(){}),[t]),t?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(L.a,{position:"static",children:Object(w.jsxs)(M.a,{children:[Object(w.jsx)(W.a,{item:!0,xs:6,sm:10,children:Object(w.jsx)(Y.a,{variant:"h6",children:"Dashboard"})}),Object(w.jsx)(W.a,{item:!0,xs:4,sm:1,children:Object(w.jsxs)(Y.a,{children:["Hello,",null===t||void 0===t?void 0:t.displayName]})}),Object(w.jsx)(W.a,{item:!0,xs:2,sm:1,children:Object(w.jsx)(I.a,{color:"inherit",onClick:T,children:"Logout"})})]})}),Object(w.jsx)(G.a,{in:!0,children:Object(w.jsx)(R.a,{children:Object(w.jsxs)(W.a,{container:!0,justifyContent:"space-between",alignItems:"stretch",children:[Object(w.jsx)(W.a,{item:!0,xs:12,sm:7,children:Object(w.jsx)(L.a,{className:e.appBar,position:"static",color:"inherit",children:Object(w.jsx)(F,{})})}),Object(w.jsx)(W.a,{item:!0,xs:12,sm:4,alignItems:"stretch",children:Object(w.jsx)(L.a,{className:e.appBar,position:"static",color:"inherit",children:Object(w.jsx)(U,{})})})]})})})]}):Object(w.jsx)(s.a,{to:"./"})},J=(n(88),Object(u.a)((function(){return{title:{textAlign:"center",fontFamily:"fantasy"},paper:{textAlign:"center",color:"black",width:"20%",marginTop:"50px",margin:"auto",padding:"40px",alignItems:"center",justify:"center"}}}))),H=function(){var e=J(),t=Object(a.useContext)(S);return Object(a.useEffect)((function(){}),[t]),t?Object(w.jsx)(s.a,{to:"./app"}):Object(w.jsx)(w.Fragment,{children:Object(w.jsx)(R.a,{maxWidth:"lg",children:Object(w.jsxs)("div",{className:e.root,children:[Object(w.jsx)(L.a,{position:"static",children:Object(w.jsx)(M.a,{children:Object(w.jsx)(Y.a,{variant:"h6",className:e.title,children:"Welcome Page"})})}),Object(w.jsx)("main",{className:e.layout,children:Object(w.jsxs)(f.a,{className:e.paper,children:[Object(w.jsx)(Y.a,{variant:"h6",className:e.papertitle,children:"Welcome"}),Object(w.jsx)(I.a,{onClick:D,variant:"contained",color:"primary",children:"Login with Google"})]})})]})})})},K=function(e){return Object(w.jsx)("h1",{children:"Oops! 404 Page Not Found"})};var Q=function(){return Object(w.jsx)(w.Fragment,{children:Object(w.jsx)(B,{children:Object(w.jsxs)(s.d,{children:[Object(w.jsx)(s.b,{exact:!0,path:"/",component:H}),Object(w.jsx)(s.b,{path:"/app",component:z}),Object(w.jsx)(s.b,{component:K})]})})})},q=n(33),V=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,128)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),i(e),s(e)}))};i.a.render(Object(w.jsx)(q.a,{children:Object(w.jsx)(Q,{})}),document.getElementById("root")),V()}},[[89,1,2]]]);
//# sourceMappingURL=main.ecdb3ec3.chunk.js.map